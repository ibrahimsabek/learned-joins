#!/bin/sh

# A generator for the first set of configurations needed to run all join algorithms (generates the file include/configs/base_configs.h) 

# Some default values:
INTEL_E5=0
INTEL_XEON=1
MAX_CPU_NODES=512
HAVE_LIBNUMA=1
CUSTOM_CPU_MAPPING='"'../../include/configs/cpu-mapping.txt'"'
CUSTOM_CPU_MAPPING_V2='"'../../include/configs/cpu-mapping-v2.txt'"'
MAX_THREADS=$MAX_CPU_NODES 
CACHE_LINE_SIZE=64
SMALL_PADDING_TUPLES_MULTIPLIER=3 
L1_CACHE_SIZE='('1024*1024')' #32768
L1_ASSOCIATIVITY=8
L2_CACHE_SIZE='('2*16*1024*1024')' #(256*1024)
BLOCKSIZE='('$L2_CACHE_SIZE'/(2*sizeof(int64_t)))'
L3_CACHE_SIZE='('2*16*1024*1024')' #(20*1024*1024)
SKEW_HANDLING=1
DEVELOPMENT_MODE=0
RUN_NUMS=1
USE_SWWC_OPTIMIZED_PART=1
TYPICAL_COPY_MODE=0
USE_AVX_512=1
PERF_COUNTERS=0
ETH_SORT_MERGE_NUMA_STRATEGY=NEXT

# For experimental evaluation
USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK=1
USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK=0
USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK=0
USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK=0
RUN_LEARNED_TECHNIQUES=0
RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY=0
LOAD_RELATIONS_FOR_EVALUATION=1
PERSIST_RELATIONS_FOR_EVALUATION=0
RELATION_KEY_TYPE=uint32_t #fixed
RELATION_PAYLOAD_TYPE=uint32_t #fixed
RELATION_R_PATH='"'/spinning/sabek/learned_join_datasets/r_UNIQUE_v1_uint32_uint32_16000000.txt'"'
RELATION_R_FOLDER_PATH='"'/spinning/sabek/learned_join_datasets/'"'
RELATION_R_FILE_NAME='"'r_UNIQUE_v1_uint32_uint32_16000000'"'
RELATION_R_FILE_EXTENSION='"'.txt'"'
RELATION_R_FILE_NUM_PARTITIONS=80
RELATION_R_NUM_TUPLES=16E6
RELATION_S_PATH='"'/spinning/sabek/learned_join_datasets/s_UNIQUE_v1_uint32_uint32_16000000.txt'"'
RELATION_S_FOLDER_PATH='"'/spinning/sabek/learned_join_datasets/'"'
RELATION_S_FILE_NAME='"'s_UNIQUE_v1_uint32_uint32_16000000'"'
RELATION_S_FILE_EXTENSION='"'.txt'"'
RELATION_S_FILE_NUM_PARTITIONS=80
RELATION_S_NUM_TUPLES=16E6
NUM_THREADS_FOR_EVALUATION=4 #2 4 8 16 32 
BENCHMARK_RESULTS_PATH='"'/spinning/sabek/learned_join_results/tmp.csv'"'

# General Sort merge join parameters (whether ETH Multi-way or learned)
USE_LEARNED_SORT=1            # enabling the "learned sort" mode, otherwise will use the avx_sort as a black box for the whole sorting phase
USE_LEARNED_SORT_AVX=0  #fixed  # uses the the "original learned sort with AVX extensions" as a black box for the whole sorting phase, if our proposed algorithm not enabled
USE_AVXSORT_AS_STD_SORT=1     # uses avx_sort instead of any "std::sort" call
LS_DEFAULT_BATCH_SZ=10
LS_DEFAULT_FANOUT=1e3
LS_DEFAULT_OVERALLOCATION_RATIO=1.1 #fixed
LS_DEFAULT_SAMPLING_RATE=.01 #fixed
LS_DEFAULT_THRESHOLD=100
LS_DEFAULT_ARCH_SECOND_LEVEL=1000
LS_MIN_SORTING_SIZE=1e4 #fixed

# Specific ETH Multi-way sort merge join parameters
REQUIRED_STACK_SIZE='('2*32*1024*1024')' #fixed #(32*1024*1024)
SKEW_DECOMPOSE_MARGIN=(1.10)                    #10% margin
SKEW_DECOMPOSE_SAMPLES=64                       #nr. of samples for range partitioning
SKEW_MAX_HEAVY_HITTERS=16                       #max nr. of heavy hitters to detect
SKEW_HEAVY_HITTER_THR=0.5                       #heavy hitter threshold freq
ETH_SORT_MERGE_IS_SCALAR_MERGE=0   #fixed
ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD=4

# Specific Learned sort merge join parameters
USE_LEARNED_SORT_FOR_SORT_MERGE=1
USE_AVXSORT_FOR_SORTING_MINOR_BCKTS=1
BUILD_RMI_FROM_TWO_DATASETS=1
OVERALLOCATION_SIZE_RATIO=1.2 #1
REPEATED_KEYS_SIZE_RATIO=0.5
SPILL_BUCKET_SIZE_RATIO=1
USE_FIXED_PARTITION_SIZES=0
LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD=1 #fixed
LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ=10
LS_FOR_SORT_MERGE_DEFAULT_FANOUT=1e3
LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO=1.1 #fixed
LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE=.01 #fixed
LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD=1000
LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL=20000
LS_FOR_SORT_MERGE_MIN_SORTING_SIZE=1e4
LS_FOR_SORT_MERGE_IMV_AVX=0
LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS=0
LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS=0
LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF=0
LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS=0
LS_FOR_SORT_MERGE_WORDSIZE=8
LS_FOR_SORT_MERGE_VECTOR_SCALE=8
LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE=16
LS_FOR_SORT_MERGE_SIMDStateSize=5
LS_FOR_SORT_MERGE_PDIS=320

# Specific parameters for indexed nested loop joins
PREFETCH_INLJ=1 #fixed
INLJ_VECTOR_SCALE=8
INLJ_MAX_VECTOR_SCALE=16
INLJ_PDIS=320
INLJ_SIMDStateSize=5
INLJ_ETH_AVX_IMV=1
INLJ_WITH_HASH_INDEX=1
INLJ_WITH_LEARNED_INDEX=0
INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD=0
INLJ_WITH_LEARNED_GAPS_FACTOR=4
INLJ_WITH_CSS_TREE_INDEX=0
INLJ_WITH_ART32_TREE_INDEX=0
INLJ_WITH_CUCKOO_HASH_INDEX=0
INLJ_WITH_ART64_TREE_INDEX=0
HASH_SCHEME_AND_FUNCTION_MODE=0 #CHAINTRADITIONAL CHAINLINEARMODEL
HASH_FUN=MURMUR #XXHASH3 AQUA MULTPRIME
HASH_OVERALLOC=10
HASH_LEARNED_MODEL=RadixSplineHash
INLJ_RMI_DATA_PATH='"'/spinning/sabek/rmi_data'"'
INLJ_RMI_NAMESPACE=r_UNIQUE_v3_uint32_uint32_128000000_key_uint32_0
INLJ_CSS_TREE_FANOUT=33

usage()
{
  echo "Usage: sh base_configs_maker.sh [ --INTEL_E5 0] [ --INTEL_XEON 1] [ --MAX_CPU_NODES 512] [ --HAVE_LIBNUMA  1]
                        [ --CUSTOM_CPU_MAPPING src/configs/cpu-mapping.txt] [ --CUSTOM_CPU_MAPPING_V2  src/configs/cpu-mapping-v2.txt] 
                        [ --MAX_THREADS 512] [ --REQUIRED_STACK_SIZE (2*32*1024*1024)]
                        [ --CACHE_LINE_SIZE 64] [ --L1_CACHE_SIZE (1024*1024)] [ --L1_ASSOCIATIVITY 8] [ --L2_CACHE_SIZE (2*16*1024*1024)]
                        [ --BLOCKSIZE (L2_CACHE_SIZE/(2*sizeof(int64_t)))]
                        [ --L3_CACHE_SIZE (2*16*1024*1024)] [ --SKEW_HANDLING 1] [ --SKEW_DECOMPOSE_MARGIN 1.10]
                        [ --SKEW_DECOMPOSE_SAMPLES 64] [ --SKEW_MAX_HEAVY_HITTERS 16] [ --SKEW_HEAVY_HITTER_THR 0.5]
                        [ --PERSIST_RELATIONS 0] [ --DEVELOPMENT_MODE 0] [ --RUN_NUMS 1] [ --USE_SWWC_OPTIMIZED_PART 1] [--TYPICAL_COPY_MODE 0]                        
                        [ --SMALL_PADDING_TUPLES_MULTIPLIER 3] [ --USE_AVX_512 1] [--USE_LEARNED_SORT_AVX 0]
                        [ --USE_AVXSORT_AS_STD_SORT 1] [ --USE_LEARNED_SORT_FOR_SORT_MERGE 1] [ --USE_AVXSORT_FOR_SORTING_MINOR_BCKTS 1] [ --BUILD_RMI_FROM_TWO_DATASETS 1]
                        [ --OVERALLOCATION_SIZE_RATIO 1] [ --REPEATED_KEYS_SIZE_RATIO 0.5] [ --SPILL_BUCKET_SIZE_RATIO 1]
                        [ --USE_FIXED_PARTITION_SIZES 0] [ --PERF_COUNTERS 0]
                        [ --USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK 1] [ --USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK 0]
                        [ --USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK 0] [ --USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK 0]
                        [ --RUN_LEARNED_TECHNIQUES 0] [ --RUN_LEARNED_TECHNIQUES 0]
                        [ --RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY 0] [ --RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY 0] 
                        [ --LOAD_RELATIONS_FOR_EVALUATION 1] [ --PERSIST_RELATIONS_FOR_EVALUATION 0] 
                        [ --RELATION_KEY_TYPE uint32_t] [ --RELATION_PAYLOAD_TYPE uint32_t]
                        [ --RELATION_R_PATH /spinning/sabek/learned_join_datasets/r_UNIQUE_v1_uint32_uint32_16000000.txt] [ --RELATION_R_FOLDER_PATH /spinning/sabek/learned_join_datasets/] [ --RELATION_R_FILE_NAME r_UNIQUE_v1_uint32_uint32_16000000] [ --RELATION_R_FILE_EXTENSION .txt] [ --RELATION_R_NUM_TUPLES 16E6] [ --RELATION_R_FILE_NUM_PARTITIONS 80]
                        [ --RELATION_S_PATH /spinning/sabek/learned_join_datasets/s_UNIQUE_v1_uint32_uint32_16000000.txt] [ --RELATION_S_FOLDER_PATH /spinning/sabek/learned_join_datasets/] [ --RELATION_S_FILE_NAME s_UNIQUE_v1_uint32_uint32_16000000] [ --RELATION_S_FILE_EXTENSION .txt] [ --RELATION_S_NUM_TUPLES 16E6] [ --RELATION_S_FILE_NUM_PARTITIONS 80]
                        [ --BENCHMARK_RESULTS_PATH /spinning/sabek/learned_join_datasets/tmp.csv]
                        [ --NUM_THREADS_FOR_EVALUATION 4] [ --ETH_SORT_MERGE_IS_SCALAR_MERGE 0] [ --ETH_SORT_MERGE_NUMA_STRATEGY NEXT] 
                        [ --ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD 4] [ --LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD 1] [-- USE_LEARNED_SORT 1]
                        [ --LS_DEFAULT_BATCH_SZ 10] [ --LS_DEFAULT_FANOUT 1e3] [ --LS_DEFAULT_OVERALLOCATION_RATIO 1.1] [ --LS_DEFAULT_SAMPLING_RATE .01]
                        [ --LS_DEFAULT_THRESHOLD 100] [ --LS_DEFAULT_ARCH_SECOND_LEVEL 1000] [ --LS_MIN_SORTING_SIZE 1e4]
                        [ --LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ 10] [ --LS_FOR_SORT_MERGE_DEFAULT_FANOUT 1e3] [ --LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO 1.1] [ --LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE .01]
                        [ --LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD 1000] [ --LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL 20000] [ --LS_FOR_SORT_MERGE_MIN_SORTING_SIZE 1e4]
                        [ --LS_FOR_SORT_MERGE_IMV_AVX 0] [ --LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS 0] [ --LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS 0]
                        [ --LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF 0] [ --LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS 0] [ --LS_FOR_SORT_MERGE_WORDSIZE 8]
                        [ --LS_FOR_SORT_MERGE_VECTOR_SCALE 8] [ --LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE 16] [ --LS_FOR_SORT_MERGE_SIMDStateSize 5] [ --LS_FOR_SORT_MERGE_PDIS 320]
                        [ --PREFETCH_INLJ 1] [ --INLJ_VECTOR_SCALE 8] [ --INLJ_MAX_VECTOR_SCALE 16] [ --INLJ_PDIS 320] [ --INLJ_SIMDStateSize 5] [ --INLJ_ETH_AVX_IMV 1]
                        [ --INLJ_WITH_HASH_INDEX 1] [ --INLJ_WITH_LEARNED_INDEX 0] [ --INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD 0] [ --INLJ_WITH_LEARNED_GAPS_FACTOR 4] [ --INLJ_WITH_CSS_TREE_INDEX 0] [ --INLJ_WITH_ART32_TREE_INDEX 0] [ --INLJ_WITH_CUCKOO_HASH_INDEX 0] [ --INLJ_WITH_ART64_TREE_INDEX 0] 
                        [ --HASH_SCHEME_AND_FUNCTION_MODE CHAINTRADITIONAL] [--HASH_FUN MURMUR] [--HASH_OVERALLOC 10] [--HASH_LEARNED_MODEL RadixSplineHash]
                        [ --INLJ_RMI_DATA_PATH /spinning/sabek/rmi_data/r_UNIQUE_v3_uint32_uint32_128000000_key_uint32_0_L1_PARAMETERS]
                        [ --INLJ_RMI_NAMESPACE r_UNIQUE_v3_uint32_uint32_128000000_key_uint32_0] [ --INLJ_CSS_TREE_FANOUT 33]                       
"
  exit 2
}

PARSED_ARGUMENTS=$(getopt -a -n base_configs -o t --long RELATION_KEY_TYPE:,RELATION_PAYLOAD_TYPE:,INTEL_E5:,INTEL_XEON:,MAX_CPU_NODES:,HAVE_LIBNUMA:,CUSTOM_CPU_MAPPING:,CUSTOM_CPU_MAPPING_V2:,MAX_THREADS:,REQUIRED_STACK_SIZE:,CACHE_LINE_SIZE:,L1_CACHE_SIZE:,L1_ASSOCIATIVITY:,L2_CACHE_SIZE:,BLOCKSIZE:,L3_CACHE_SIZE:,SKEW_HANDLING:,SKEW_DECOMPOSE_MARGIN:,SKEW_DECOMPOSE_SAMPLES:,SKEW_MAX_HEAVY_HITTERS:,SKEW_HEAVY_HITTER_THR:,PERSIST_RELATIONS:,DEVELOPMENT_MODE:,RUN_NUMS:,USE_SWWC_OPTIMIZED_PART:,TYPICAL_COPY_MODE:,SMALL_PADDING_TUPLES_MULTIPLIER:,USE_AVX_512:,USE_LEARNED_SORT_AVX:,USE_AVXSORT_AS_STD_SORT:,USE_LEARNED_SORT_FOR_SORT_MERGE:,USE_AVXSORT_FOR_SORTING_MINOR_BCKTS:,BUILD_RMI_FROM_TWO_DATASETS:,OVERALLOCATION_SIZE_RATIO:,REPEATED_KEYS_SIZE_RATIO:,SPILL_BUCKET_SIZE_RATIO:,USE_FIXED_PARTITION_SIZES:,PERF_COUNTERS:,USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK:,USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK:,USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK:,USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK:,RUN_LEARNED_TECHNIQUES:,RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY:,LOAD_RELATIONS_FOR_EVALUATION:,PERSIST_RELATIONS_FOR_EVALUATION:,RELATION_R_PATH:,RELATION_R_FOLDER_PATH:,RELATION_R_FILE_NAME:,RELATION_R_FILE_EXTENSION:,INLJ_RMI_DATA_PATH:,INLJ_RMI_NAMESPACE:,RELATION_R_NUM_TUPLES:,RELATION_R_FILE_NUM_PARTITIONS:,RELATION_S_PATH:,RELATION_S_FOLDER_PATH:,RELATION_S_FILE_NAME:,RELATION_S_FILE_EXTENSION:,RELATION_S_NUM_TUPLES:,RELATION_S_FILE_NUM_PARTITIONS:,NUM_THREADS_FOR_EVALUATION:,BENCHMARK_RESULTS_PATH:,ETH_SORT_MERGE_IS_SCALAR_MERGE:,ETH_SORT_MERGE_NUMA_STRATEGY:,ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD:,LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD:,USE_LEARNED_SORT:,LS_DEFAULT_BATCH_SZ:,LS_DEFAULT_FANOUT:,LS_DEFAULT_OVERALLOCATION_RATIO:,LS_DEFAULT_SAMPLING_RATE:,LS_DEFAULT_THRESHOLD:,LS_DEFAULT_ARCH_SECOND_LEVEL:,LS_MIN_SORTING_SIZE:,LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ:,LS_FOR_SORT_MERGE_DEFAULT_FANOUT:,LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO:,LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE:,LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD:,LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL:,LS_FOR_SORT_MERGE_MIN_SORTING_SIZE:,LS_FOR_SORT_MERGE_IMV_AVX:,LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS:,LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS:,LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF:,LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS:,LS_FOR_SORT_MERGE_WORDSIZE:,LS_FOR_SORT_MERGE_VECTOR_SCALE:,LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE:,LS_FOR_SORT_MERGE_SIMDStateSize:,LS_FOR_SORT_MERGE_PDIS:,PREFETCH_INLJ:,INLJ_VECTOR_SCALE:,INLJ_MAX_VECTOR_SCALE:,INLJ_PDIS:,INLJ_SIMDStateSize:,INLJ_ETH_AVX_IMV:,INLJ_WITH_HASH_INDEX:,INLJ_WITH_LEARNED_INDEX:,INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD:,INLJ_WITH_LEARNED_GAPS_FACTOR:,INLJ_WITH_CSS_TREE_INDEX:,INLJ_WITH_ART32_TREE_INDEX:,INLJ_WITH_CUCKOO_HASH_INDEX:,INLJ_WITH_ART64_TREE_INDEX:,INLJ_CSS_TREE_FANOUT:,HASH_SCHEME_AND_FUNCTION_MODE:,HASH_FUN:,HASH_OVERALLOC:,HASH_LEARNED_MODEL: -- "$@")
VALID_ARGUMENTS=$?
if [ "$VALID_ARGUMENTS" != "0" ]; then
  usage
fi

echo "PARSED_ARGUMENTS is $PARSED_ARGUMENTS"
eval set -- "$PARSED_ARGUMENTS"
while :
do
  case "$1" in
    --INTEL_E5)   INTEL_E5="$2"      ; shift 2  ;;
    --INTEL_XEON)   INTEL_XEON="$2"      ; shift 2  ;;
    --MAX_CPU_NODES) MAX_CPU_NODES="$2" ; MAX_THREADS=$MAX_CPU_NODES ; shift 2 ;;
    --HAVE_LIBNUMA)   HAVE_LIBNUMA="$2"   ; shift 2 ;;
    --CUSTOM_CPU_MAPPING)   CUSTOM_CPU_MAPPING="$2"   ; shift 2 ;;
    --CUSTOM_CPU_MAPPING_V2)   CUSTOM_CPU_MAPPING_V2="$2"   ; shift 2 ;;
    --MAX_THREADS)   MAX_THREADS="$2"   ; shift 2 ;;
    --REQUIRED_STACK_SIZE)   REQUIRED_STACK_SIZE="$2"   ; shift 2 ;;
    --CACHE_LINE_SIZE)   CACHE_LINE_SIZE="$2"   ; shift 2 ;;
    --L1_CACHE_SIZE)   L1_CACHE_SIZE="$2"   ; shift 2 ;;
    --L1_ASSOCIATIVITY)   L1_ASSOCIATIVITY="$2"   ; shift 2 ;;
    --L2_CACHE_SIZE)   L2_CACHE_SIZE="$2"   ; BLOCKSIZE='('$L2_CACHE_SIZE'/(2*sizeof(int64_t)))' ; shift 2 ;;
    --BLOCKSIZE)   BLOCKSIZE="$2"   ; shift 2 ;;
    --L3_CACHE_SIZE)   L3_CACHE_SIZE="$2"   ; shift 2 ;;
    --SKEW_HANDLING)   SKEW_HANDLING="$2"   ; shift 2 ;;
    --SKEW_DECOMPOSE_MARGIN)   SKEW_DECOMPOSE_MARGIN="$2"   ; shift 2 ;;
    --SKEW_DECOMPOSE_SAMPLES)   SKEW_DECOMPOSE_SAMPLES="$2"   ; shift 2 ;;
    --SKEW_MAX_HEAVY_HITTERS)   SKEW_MAX_HEAVY_HITTERS="$2"   ; shift 2 ;;
    --SKEW_HEAVY_HITTER_THR)   SKEW_HEAVY_HITTER_THR="$2"   ; shift 2 ;;
    --PERSIST_RELATIONS)   PERSIST_RELATIONS="$2"   ; shift 2 ;;
    --DEVELOPMENT_MODE)   DEVELOPMENT_MODE="$2"   ; shift 2 ;;
    --RUN_NUMS)   RUN_NUMS="$2"   ; shift 2 ;;
    --USE_SWWC_OPTIMIZED_PART)   USE_SWWC_OPTIMIZED_PART="$2"   ; shift 2 ;;
    --TYPICAL_COPY_MODE)   TYPICAL_COPY_MODE="$2"   ; shift 2 ;;
    --SMALL_PADDING_TUPLES_MULTIPLIER)   SMALL_PADDING_TUPLES_MULTIPLIER="$2"   ; shift 2 ;;
    --USE_AVX_512)   USE_AVX_512="$2"   ; shift 2 ;;
    --USE_LEARNED_SORT_AVX)   USE_LEARNED_SORT_AVX="$2"   ; shift 2 ;;
    --USE_AVXSORT_AS_STD_SORT)   USE_AVXSORT_AS_STD_SORT="$2"   ; shift 2 ;;
    --USE_LEARNED_SORT_FOR_SORT_MERGE)   USE_LEARNED_SORT_FOR_SORT_MERGE="$2"   ; shift 2 ;;
    --USE_AVXSORT_FOR_SORTING_MINOR_BCKTS)   USE_AVXSORT_FOR_SORTING_MINOR_BCKTS="$2"   ; shift 2 ;;
    --BUILD_RMI_FROM_TWO_DATASETS)   BUILD_RMI_FROM_TWO_DATASETS="$2"   ; shift 2 ;;
    --OVERALLOCATION_SIZE_RATIO)   OVERALLOCATION_SIZE_RATIO="$2"   ; shift 2 ;;
    --REPEATED_KEYS_SIZE_RATIO)   REPEATED_KEYS_SIZE_RATIO="$2"   ; shift 2 ;;
    --SPILL_BUCKET_SIZE_RATIO)   SPILL_BUCKET_SIZE_RATIO="$2"   ; shift 2 ;;    
    --USE_FIXED_PARTITION_SIZES)   USE_FIXED_PARTITION_SIZES="$2"   ; shift 2 ;;    
    --PERF_COUNTERS)   PERF_COUNTERS="$2"   ; shift 2 ;;    
    --USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK)   USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK="$2"   ; shift 2 ;;    
    --USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK)   USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK="$2"   ; shift 2 ;;
    --USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK)   USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK="$2"   ; shift 2 ;;
    --USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK)   USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK="$2"   ; shift 2 ;;    
    --RUN_LEARNED_TECHNIQUES)   RUN_LEARNED_TECHNIQUES="$2"   ; shift 2 ;;    
    --RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY)   RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY="$2"    ; shift 2 ;;
    --LOAD_RELATIONS_FOR_EVALUATION)   LOAD_RELATIONS_FOR_EVALUATION="$2"   ; shift 2 ;;    
    --PERSIST_RELATIONS_FOR_EVALUATION)   PERSIST_RELATIONS_FOR_EVALUATION="$2"   ; shift 2 ;;    
    --RELATION_KEY_TYPE)   RELATION_KEY_TYPE="$2"   ; shift 2 ;;    
    --RELATION_PAYLOAD_TYPE)   RELATION_PAYLOAD_TYPE="$2"   ; shift 2 ;;    
    --RELATION_R_PATH)   RELATION_R_PATH="$2"   ; shift 2 ;;    
    --RELATION_R_FOLDER_PATH)   RELATION_R_FOLDER_PATH="$2"   ; shift 2 ;;
    --RELATION_R_FILE_NAME)   RELATION_R_FILE_NAME="$2"   ; shift 2 ;;
    --RELATION_R_FILE_EXTENSION)   RELATION_R_FILE_EXTENSION="$2"   ; shift 2 ;;        
    --RELATION_R_NUM_TUPLES)   RELATION_R_NUM_TUPLES="$2"   ; shift 2 ;;    
    --RELATION_R_FILE_NUM_PARTITIONS)   RELATION_R_FILE_NUM_PARTITIONS="$2"   ; shift 2 ;;    
    --RELATION_S_PATH)   RELATION_S_PATH="$2"   ; shift 2 ;;    
    --RELATION_S_FOLDER_PATH)   RELATION_S_FOLDER_PATH="$2"   ; shift 2 ;;    
    --RELATION_S_FILE_NAME)   RELATION_S_FILE_NAME="$2"   ; shift 2 ;;
    --RELATION_S_FILE_EXTENSION)   RELATION_S_FILE_EXTENSION="$2"   ; shift 2 ;;        
    --RELATION_S_NUM_TUPLES)   RELATION_S_NUM_TUPLES="$2"   ; shift 2 ;;    
    --RELATION_S_FILE_NUM_PARTITIONS)   RELATION_S_FILE_NUM_PARTITIONS="$2"   ; shift 2 ;;    
    --NUM_THREADS_FOR_EVALUATION)   NUM_THREADS_FOR_EVALUATION="$2"   ; shift 2 ;;    
    --BENCHMARK_RESULTS_PATH)   BENCHMARK_RESULTS_PATH="$2"   ; shift 2 ;;
    --ETH_SORT_MERGE_IS_SCALAR_MERGE)   ETH_SORT_MERGE_IS_SCALAR_MERGE="$2"   ; shift 2 ;;    
    --ETH_SORT_MERGE_NUMA_STRATEGY)   ETH_SORT_MERGE_NUMA_STRATEGY="$2"   ; shift 2 ;;    
    --ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD)   ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD="$2"   ; shift 2 ;;    
    --LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD)   LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD="$2"   ; shift 2 ;;    
    --USE_LEARNED_SORT)   USE_LEARNED_SORT="$2"   ; shift 2 ;;    
    --LS_DEFAULT_BATCH_SZ)   LS_DEFAULT_BATCH_SZ="$2"   ; shift 2 ;;    
    --LS_DEFAULT_FANOUT)   LS_DEFAULT_FANOUT="$2"   ; shift 2 ;;    
    --LS_DEFAULT_OVERALLOCATION_RATIO)   LS_DEFAULT_OVERALLOCATION_RATIO="$2"   ; shift 2 ;;    
    --LS_DEFAULT_SAMPLING_RATE)   LS_DEFAULT_SAMPLING_RATE="$2"   ; shift 2 ;;    
    --LS_DEFAULT_THRESHOLD)   LS_DEFAULT_THRESHOLD="$2"   ; shift 2 ;;    
    --LS_DEFAULT_ARCH_SECOND_LEVEL)   LS_DEFAULT_ARCH_SECOND_LEVEL="$2"   ; shift 2 ;;    
    --LS_MIN_SORTING_SIZE)   LS_MIN_SORTING_SIZE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ)   LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_FANOUT)   LS_FOR_SORT_MERGE_DEFAULT_FANOUT="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO)   LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE)   LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD)   LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL)   LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_MIN_SORTING_SIZE)   LS_FOR_SORT_MERGE_MIN_SORTING_SIZE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_IMV_AVX)   LS_FOR_SORT_MERGE_IMV_AVX="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS)   LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS)   LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF)   LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS)   LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_WORDSIZE)   LS_FOR_SORT_MERGE_WORDSIZE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_VECTOR_SCALE)   LS_FOR_SORT_MERGE_VECTOR_SCALE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE)   LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_SIMDStateSize)   LS_FOR_SORT_MERGE_SIMDStateSize="$2"   ; shift 2 ;;    
    --LS_FOR_SORT_MERGE_PDIS)   LS_FOR_SORT_MERGE_PDIS="$2"   ; shift 2 ;;   
    --PREFETCH_INLJ)   PREFETCH_INLJ="$2"   ; shift 2 ;;
    --INLJ_VECTOR_SCALE)   INLJ_VECTOR_SCALE="$2"   ; shift 2 ;;    
    --INLJ_MAX_VECTOR_SCALE)   INLJ_MAX_VECTOR_SCALE="$2"   ; shift 2 ;;    
    --INLJ_PDIS)   INLJ_PDIS="$2"   ; shift 2 ;;    
    --INLJ_SIMDStateSize)   INLJ_SIMDStateSize="$2"   ; shift 2 ;;    
    --INLJ_ETH_AVX_IMV)   INLJ_ETH_AVX_IMV="$2"   ; shift 2 ;;     
    --INLJ_WITH_HASH_INDEX)   INLJ_WITH_HASH_INDEX="$2"   ; shift 2 ;;
    --INLJ_WITH_LEARNED_INDEX)   INLJ_WITH_LEARNED_INDEX="$2"   ; shift 2 ;;
    --INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD)   INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD="$2"   ; shift 2 ;;
    --INLJ_WITH_LEARNED_GAPS_FACTOR)   INLJ_WITH_LEARNED_GAPS_FACTOR="$2"   ; shift 2 ;;
    --INLJ_WITH_CSS_TREE_INDEX)   INLJ_WITH_CSS_TREE_INDEX="$2"   ; shift 2 ;;
    --INLJ_WITH_ART32_TREE_INDEX)   INLJ_WITH_ART32_TREE_INDEX="$2"   ; shift 2 ;;
    --INLJ_WITH_ART64_TREE_INDEX)   INLJ_WITH_ART64_TREE_INDEX="$2"   ; shift 2 ;;
    --INLJ_WITH_CUCKOO_HASH_INDEX)   INLJ_WITH_CUCKOO_HASH_INDEX="$2"   ; shift 2 ;;
    --HASH_SCHEME_AND_FUNCTION_MODE)   HASH_SCHEME_AND_FUNCTION_MODE="$2"   ; shift 2 ;;   
    --HASH_FUN)   HASH_FUN="$2"   ; shift 2 ;;  
    --HASH_OVERALLOC)   HASH_OVERALLOC="$2"   ; shift 2 ;;  
    --HASH_LEARNED_MODEL)   HASH_LEARNED_MODEL="$2"   ; shift 2 ;;  
    --INLJ_RMI_DATA_PATH)   INLJ_RMI_DATA_PATH="$2"   ; shift 2 ;;  
    --INLJ_RMI_NAMESPACE)   INLJ_RMI_NAMESPACE="$2"   ; shift 2 ;;    
    --INLJ_CSS_TREE_FANOUT)   INLJ_CSS_TREE_FANOUT="$2"   ; shift 2 ;;    
    # -- means the end of the arguments; drop this, and break out of the while loop
    --) shift; break ;;
    # If invalid options were passed, then getopt should have reported an error,
    # which we checked as VALID_ARGUMENTS when getopt was called...
    *) echo "Unexpected option: $1 - this should not happen."
       usage ;;
  esac
done

LOG2_BLOCKSIZE='(log2('$BLOCKSIZE'))'
USE_AVXMERGE_AS_STD_MERGE=$USE_AVXSORT_AS_STD_SORT

: '
echo "INTEL_E5   : $INTEL_E5"
echo "INTEL_XEON   : $INTEL_XEON "
echo "MAX_CPU_NODES : $MAX_CPU_NODES"
echo "HAVE_LIBNUMA   : $HAVE_LIBNUMA"
echo "CUSTOM_CPU_MAPPING : $CUSTOM_CPU_MAPPING"
echo "CUSTOM_CPU_MAPPING_V2   : $CUSTOM_CPU_MAPPING_V2"
echo "MAX_THREADS   : $MAX_THREADS"
echo "REQUIRED_STACK_SIZE   : $REQUIRED_STACK_SIZE"
echo "CACHE_LINE_SIZE   : $CACHE_LINE_SIZE"
echo "L1_CACHE_SIZE   : $L1_CACHE_SIZE"
echo "L1_ASSOCIATIVITY   : $L1_ASSOCIATIVITY"
echo "L2_CACHE_SIZE   : $L2_CACHE_SIZE"
echo "BLOCKSIZE   : $BLOCKSIZE"
echo "LOG2_BLOCKSIZE   : $LOG2_BLOCKSIZE"
echo "L3_CACHE_SIZE   : $L3_CACHE_SIZE"
echo "SKEW_HANDLING   : $SKEW_HANDLING"
echo "SKEW_DECOMPOSE_MARGIN   : $SKEW_DECOMPOSE_MARGIN"
echo "SKEW_DECOMPOSE_SAMPLES   : $SKEW_DECOMPOSE_SAMPLES"
echo "SKEW_MAX_HEAVY_HITTERS   : $SKEW_MAX_HEAVY_HITTERS"
echo "SKEW_HEAVY_HITTER_THR   : $SKEW_HEAVY_HITTER_THR"
echo "PERSIST_RELATIONS   : $PERSIST_RELATIONS"
echo "DEVELOPMENT_MODE   : $DEVELOPMENT_MODE"
echo "RUN_NUMS   : $RUN_NUMS"
echo "USE_SWWC_OPTIMIZED_PART   : $USE_SWWC_OPTIMIZED_PART"
echo "TYPICAL_COPY_MODE   : $TYPICAL_COPY_MODE"
echo "SMALL_PADDING_TUPLES_MULTIPLIER   : $SMALL_PADDING_TUPLES_MULTIPLIER"
echo "USE_AVX_512   : $USE_AVX_512"
echo "USE_LEARNED_SORT   : $USE_LEARNED_SORT"
echo "USE_LEARNED_SORT_AVX   : $USE_LEARNED_SORT_AVX"
echo "USE_AVXSORT_AS_STD_SORT   : $USE_AVXSORT_AS_STD_SORT"
echo "USE_AVXMERGE_AS_STD_MERGE   : $USE_AVXMERGE_AS_STD_MERGE"
echo "USE_LEARNED_SORT_FOR_SORT_MERGE   : $USE_LEARNED_SORT_FOR_SORT_MERGE"
echo "USE_AVXSORT_FOR_SORTING_MINOR_BCKTS   : $USE_AVXSORT_FOR_SORTING_MINOR_BCKTS"
echo "BUILD_RMI_FROM_TWO_DATASETS   : $BUILD_RMI_FROM_TWO_DATASETS"
echo "OVERALLOCATION_SIZE_RATIO   : $OVERALLOCATION_SIZE_RATIO"
echo "REPEATED_KEYS_SIZE_RATIO   : $REPEATED_KEYS_SIZE_RATIO"
echo "SPILL_BUCKET_SIZE_RATIO   : $SPILL_BUCKET_SIZE_RATIO"
echo "USE_FIXED_PARTITION_SIZES   : $USE_FIXED_PARTITION_SIZES"
echo "PERF_COUNTERS   : $PERF_COUNTERS"
echo "USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK   : $USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK"
echo "USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK   : $USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK"
echo "USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK   : $USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK"
echo "USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK   : $USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK"
echo "RUN_LEARNED_TECHNIQUES   : $RUN_LEARNED_TECHNIQUES"
echo "RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY   : $RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY"
echo "LOAD_RELATIONS_FOR_EVALUATION   : $LOAD_RELATIONS_FOR_EVALUATION"
echo "PERSIST_RELATIONS_FOR_EVALUATION   : $PERSIST_RELATIONS_FOR_EVALUATION"
echo "RELATION_KEY_TYPE   : $RELATION_KEY_TYPE"
echo "RELATION_PAYLOAD_TYPE   : $RELATION_PAYLOAD_TYPE"
echo "RELATION_R_PATH   : $RELATION_R_PATH"
echo "RELATION_R_FOLDER_PATH   : $RELATION_R_FOLDER_PATH"
echo "RELATION_R_FILE_NAME   : $RELATION_R_FILE_NAME"
echo "RELATION_R_FILE_EXTENSION   : $RELATION_R_FILE_EXTENSION"
echo "RELATION_R_NUM_TUPLES   : $RELATION_R_NUM_TUPLES"
echo "RELATION_R_FILE_NUM_PARTITIONS   : $RELATION_R_FILE_NUM_PARTITIONS"
echo "RELATION_S_PATH   : $RELATION_S_PATH"
echo "RELATION_S_FOLDER_PATH   : $RELATION_S_FOLDER_PATH"
echo "RELATION_S_FILE_NAME   : $RELATION_S_FILE_NAME"
echo "RELATION_S_FILE_EXTENSION   : $RELATION_S_FILE_EXTENSION"
echo "RELATION_S_NUM_TUPLES   : $RELATION_S_NUM_TUPLES"
echo "RELATION_S_FILE_NUM_PARTITIONS   : $RELATION_S_FILE_NUM_PARTITIONS"
echo "NUM_THREADS_FOR_EVALUATION   : $NUM_THREADS_FOR_EVALUATION"
echo "BENCHMARK_RESULTS_PATH   : $BENCHMARK_RESULTS_PATH"
echo "ETH_SORT_MERGE_IS_SCALAR_MERGE   : $ETH_SORT_MERGE_IS_SCALAR_MERGE"
echo "ETH_SORT_MERGE_NUMA_STRATEGY   : $ETH_SORT_MERGE_NUMA_STRATEGY"
echo "ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD   : $ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD"
echo "LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD   : $LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD"
echo "LS_DEFAULT_BATCH_SZ   : $LS_DEFAULT_BATCH_SZ"
echo "LS_DEFAULT_FANOUT   : $LS_DEFAULT_FANOUT"
echo "LS_DEFAULT_OVERALLOCATION_RATIO   : $LS_DEFAULT_OVERALLOCATION_RATIO"
echo "LS_DEFAULT_SAMPLING_RATE   : $LS_DEFAULT_SAMPLING_RATE"
echo "LS_DEFAULT_THRESHOLD   : $LS_DEFAULT_THRESHOLD"
echo "LS_DEFAULT_ARCH_SECOND_LEVEL   : $LS_DEFAULT_ARCH_SECOND_LEVEL"
echo "LS_MIN_SORTING_SIZE   : $LS_MIN_SORTING_SIZE"
echo "LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ   : $LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ"
echo "LS_FOR_SORT_MERGE_DEFAULT_FANOUT   : $LS_FOR_SORT_MERGE_DEFAULT_FANOUT"
echo "LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO   : $LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO"
echo "LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE   : $LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE"
echo "LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD   : $LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD"
echo "LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL   : $LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL"
echo "LS_FOR_SORT_MERGE_MIN_SORTING_SIZE   : $LS_FOR_SORT_MERGE_MIN_SORTING_SIZE"
echo "LS_FOR_SORT_MERGE_IMV_AVX   : $LS_FOR_SORT_MERGE_IMV_AVX"
echo "LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS   : $LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS"
echo "LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS   : $LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS"
echo "LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF   : $LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF"
echo "LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS   : $LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS"
echo "LS_FOR_SORT_MERGE_WORDSIZE   : $LS_FOR_SORT_MERGE_WORDSIZE"
echo "LS_FOR_SORT_MERGE_VECTOR_SCALE   : $LS_FOR_SORT_MERGE_VECTOR_SCALE"
echo "LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE   : $LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE"
echo "LS_FOR_SORT_MERGE_SIMDStateSize   : $LS_FOR_SORT_MERGE_SIMDStateSize"
echo "LS_FOR_SORT_MERGE_PDIS   : $LS_FOR_SORT_MERGE_PDIS"
echo "PREFETCH_INLJ   : $PREFETCH_INLJ"
echo "INLJ_VECTOR_SCALE   : $INLJ_VECTOR_SCALE"
echo "INLJ_MAX_VECTOR_SCALE   : $INLJ_MAX_VECTOR_SCALE"
echo "INLJ_PDIS   : $INLJ_PDIS"
echo "INLJ_SIMDStateSize   : $INLJ_SIMDStateSize"
echo "INLJ_ETH_AVX_IMV   : $INLJ_ETH_AVX_IMV"
echo "INLJ_WITH_HASH_INDEX   : $INLJ_WITH_HASH_INDEX"
echo "INLJ_WITH_LEARNED_INDEX   : $INLJ_WITH_LEARNED_INDEX"
echo "INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD   :$INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD"
echo "INLJ_WITH_LEARNED_GAPS_FACTOR    :$INLJ_WITH_LEARNED_GAPS_FACTOR"
echo "INLJ_WITH_CSS_TREE_INDEX   : $INLJ_WITH_CSS_TREE_INDEX"
echo "INLJ_WITH_ART32_TREE_INDEX   : $INLJ_WITH_ART32_TREE_INDEX"
echo "INLJ_WITH_ART64_TREE_INDEX   : $INLJ_WITH_ART64_TREE_INDEX"
echo "INLJ_WITH_CUCKOO_HASH_INDEX   : $INLJ_WITH_CUCKOO_HASH_INDEX"
echo "HASH_SCHEME_AND_FUNCTION_MODE   : $HASH_SCHEME_AND_FUNCTION_MODE"
echo "HASH_FUN   : $HASH_FUN"
echo "HASH_OVERALLOC   : $HASH_OVERALLOC"
echo "HASH_LEARNED_MODEL   : $HASH_LEARNED_MODEL"
echo "INLJ_RMI_DATA_PATH   : $INLJ_RMI_DATA_PATH"
echo "INLJ_RMI_NAMESPACE   : $INLJ_RMI_NAMESPACE"
echo "INLJ_CSS_TREE_FANOUT   : $INLJ_CSS_TREE_FANOUT"
echo "Parameters remaining are: $@" 
'

echo "$(echo -n '#pragma once'; echo -n $'\n\n';
        
        echo -n $'#define INTEL_E5 '$INTEL_E5; echo -n $'\n\n';

        echo -n $'#define INTEL_XEON '$INTEL_XEON; echo -n $'\n\n';
        
        echo -n $'#define MAX_CPU_NODES '$MAX_CPU_NODES; echo -n $'\n\n';

        echo -n $'#define CUSTOM_CPU_MAPPING '$CUSTOM_CPU_MAPPING; echo -n $'\n\n';

        echo -n $'#define CUSTOM_CPU_MAPPING_V2 '$CUSTOM_CPU_MAPPING_V2; echo -n $'\n\n';

        echo -n $'#define HAVE_LIBNUMA '$HAVE_LIBNUMA; echo -n $'\n\n';

        echo -n $'#define MAX_THREADS '$MAX_THREADS; echo -n $'\n\n';

        echo -n $'#define REQUIRED_STACK_SIZE '$REQUIRED_STACK_SIZE; echo -n $'\n\n';

        echo -n $'#define CACHE_LINE_SIZE '$CACHE_LINE_SIZE; echo -n $'\n\n';

        echo -n $'#define L1_CACHE_SIZE '$L1_CACHE_SIZE; echo -n $'\n\n';

        echo -n $'#define L1_ASSOCIATIVITY '$L1_ASSOCIATIVITY; echo -n $'\n\n';

        echo -n $'#define L2_CACHE_SIZE '$L2_CACHE_SIZE; echo -n $'\n\n';

        echo -n $'#define BLOCKSIZE '$BLOCKSIZE; echo -n $'\n\n';

        echo -n $'#define LOG2_BLOCKSIZE '$LOG2_BLOCKSIZE; echo -n $'\n\n';

        echo -n $'#define L3_CACHE_SIZE '$L3_CACHE_SIZE; echo -n $'\n\n';

        echo -n $'#define SKEW_HANDLING '$SKEW_HANDLING; echo -n $'\n\n';

        echo -n $'#define SKEW_DECOMPOSE_MARGIN '$SKEW_DECOMPOSE_MARGIN; echo -n $'\n\n';

        echo -n $'#define SKEW_DECOMPOSE_SAMPLES '$SKEW_DECOMPOSE_SAMPLES; echo -n $'\n\n';

        echo -n $'#define SKEW_MAX_HEAVY_HITTERS '$SKEW_MAX_HEAVY_HITTERS; echo -n $'\n\n';

        echo -n $'#define SKEW_HEAVY_HITTER_THR '$SKEW_HEAVY_HITTER_THR; echo -n $'\n\n';

	     if [ "$PERSIST_RELATIONS" = 1 ]; then
 	         echo -n $'#define PERSIST_RELATIONS '$PERSIST_RELATIONS; echo -n $'\n\n';
	     fi

	     if [ "$DEVELOPMENT_MODE" = 1 ]; then
 	         echo -n $'#define DEVELOPMENT_MODE '$DEVELOPMENT_MODE; echo -n $'\n\n';
	     fi

        echo -n $'#define RUN_NUMS '$RUN_NUMS; echo -n $'\n\n';

        echo -n $'#define USE_SWWC_OPTIMIZED_PART '$USE_SWWC_OPTIMIZED_PART; echo -n $'\n\n';

        if [ "$TYPICAL_COPY_MODE" = 1 ]; then
           echo -n $'#define TYPICAL_COPY_MODE '$TYPICAL_COPY_MODE; echo -n $'\n\n';
        fi

        echo -n $'#define SMALL_PADDING_TUPLES_MULTIPLIER '$SMALL_PADDING_TUPLES_MULTIPLIER; echo -n $'\n\n';

        if [ "$USE_AVX_512" = 1 ]; then
           echo -n $'#define USE_AVX_512 '$USE_AVX_512; echo -n $'\n\n';
        fi

        echo -n $'#define USE_LEARNED_SORT '$USE_LEARNED_SORT; echo -n $'\n\n';

        if [ "$USE_LEARNED_SORT_AVX" = 1 ]; then
           echo -n $'#define USE_LEARNED_SORT_AVX '$USE_LEARNED_SORT_AVX; echo -n $'\n\n';
        fi

        if [ "$USE_AVXSORT_AS_STD_SORT" = 1 ]; then
           echo -n $'#define USE_AVXSORT_AS_STD_SORT '$USE_AVXSORT_AS_STD_SORT; echo -n $'\n\n';
        fi

        if [ "$USE_AVXSORT_AS_STD_SORT" = 1 ]; then
           echo -n $'#define USE_AVXMERGE_AS_STD_MERGE '$USE_AVXMERGE_AS_STD_MERGE; echo -n $'\n\n';
        fi


        if [ "$USE_LEARNED_SORT_FOR_SORT_MERGE" = 1 ]; then
           echo -n $'#define USE_LEARNED_SORT_FOR_SORT_MERGE '$USE_LEARNED_SORT_FOR_SORT_MERGE; echo -n $'\n\n';
        fi

        if [ "$USE_AVXSORT_FOR_SORTING_MINOR_BCKTS" = 1 ]; then
           echo -n $'#define USE_AVXSORT_FOR_SORTING_MINOR_BCKTS '$USE_AVXSORT_FOR_SORTING_MINOR_BCKTS; echo -n $'\n\n';
        fi

        if [ "$BUILD_RMI_FROM_TWO_DATASETS" = 1 ]; then
           echo -n $'#define BUILD_RMI_FROM_TWO_DATASETS '$BUILD_RMI_FROM_TWO_DATASETS; echo -n $'\n\n';
        fi

        echo -n $'#define OVERALLOCATION_SIZE_RATIO '$OVERALLOCATION_SIZE_RATIO; echo -n $'\n\n';

        echo -n $'#define REPEATED_KEYS_SIZE_RATIO '$REPEATED_KEYS_SIZE_RATIO; echo -n $'\n\n';

        echo -n $'#define SPILL_BUCKET_SIZE_RATIO '$SPILL_BUCKET_SIZE_RATIO; echo -n $'\n\n';

        if [ "$USE_FIXED_PARTITION_SIZES" = 1 ]; then
           echo -n $'#define USE_FIXED_PARTITION_SIZES '$USE_FIXED_PARTITION_SIZES; echo -n $'\n\n';
        fi

        if [ "$PERF_COUNTERS" = 1 ]; then
           echo -n $'#define PERF_COUNTERS '$PERF_COUNTERS; echo -n $'\n\n';
        fi

        if [ "$USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK" = 1 ]; then
           echo -n $'#define USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK '$USE_LEARNED_SORT_MERGE_JOIN_GOOGLE_BENCHMARK; echo -n $'\n\n';
        fi

        if [ "$USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK" = 1 ]; then
           echo -n $'#define USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK '$USE_ETH_SORT_MERGE_JOIN_GOOGLE_BENCHMARK; echo -n $'\n\n';
        fi

        if [ "$USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK" = 1 ]; then
           echo -n $'#define USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK '$USE_ETH_NON_PARTITION_JOIN_GOOGLE_BENCHMARK; echo -n $'\n\n';
        fi

        if [ "$USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK" = 1 ]; then
           echo -n $'#define USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK '$USE_ETH_RADIX_JOIN_GOOGLE_BENCHMARK; echo -n $'\n\n';
        fi

        if [ "$RUN_LEARNED_TECHNIQUES" = 1 ]; then
           echo -n $'#define RUN_LEARNED_TECHNIQUES '$RUN_LEARNED_TECHNIQUES; echo -n $'\n\n';
        fi

        if [ "$RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY" = 1 ]; then
           echo -n $'#define RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY '$RUN_LEARNED_TECHNIQUES_WITH_FIRST_LEVEL_ONLY; echo -n $'\n\n';
        fi


	     if [ "$LOAD_RELATIONS_FOR_EVALUATION" = 1 ]; then
 	         echo -n $'#define LOAD_RELATIONS_FOR_EVALUATION '$LOAD_RELATIONS_FOR_EVALUATION; echo -n $'\n\n';
	     fi

	     if [ "$PERSIST_RELATIONS_FOR_EVALUATION" = 1 ]; then
 	         echo -n $'#define PERSIST_RELATIONS_FOR_EVALUATION '$PERSIST_RELATIONS_FOR_EVALUATION; echo -n $'\n\n';
	     fi

        echo -n $'#define RELATION_KEY_TYPE '$RELATION_KEY_TYPE; echo -n $'\n\n';

        echo -n $'#define RELATION_PAYLOAD_TYPE '$RELATION_PAYLOAD_TYPE; echo -n $'\n\n';

        echo -n $'#define RELATION_R_PATH '$RELATION_R_PATH; echo -n $'\n\n';

        echo -n $'#define RELATION_R_FOLDER_PATH '$RELATION_R_FOLDER_PATH; echo -n $'\n\n';

        echo -n $'#define RELATION_R_FILE_NAME '$RELATION_R_FILE_NAME; echo -n $'\n\n';

        echo -n $'#define RELATION_R_FILE_EXTENSION '$RELATION_R_FILE_EXTENSION; echo -n $'\n\n';

        echo -n $'#define RELATION_R_NUM_TUPLES '$RELATION_R_NUM_TUPLES; echo -n $'\n\n';

        echo -n $'#define RELATION_R_FILE_NUM_PARTITIONS '$RELATION_R_FILE_NUM_PARTITIONS; echo -n $'\n\n';

        echo -n $'#define RELATION_S_PATH '$RELATION_S_PATH; echo -n $'\n\n';

        echo -n $'#define RELATION_S_FOLDER_PATH '$RELATION_S_FOLDER_PATH; echo -n $'\n\n';

        echo -n $'#define RELATION_S_NUM_TUPLES '$RELATION_S_NUM_TUPLES; echo -n $'\n\n';

        echo -n $'#define RELATION_S_FILE_NUM_PARTITIONS '$RELATION_S_FILE_NUM_PARTITIONS; echo -n $'\n\n';

        echo -n $'#define RELATION_S_FILE_NAME '$RELATION_S_FILE_NAME; echo -n $'\n\n';

        echo -n $'#define RELATION_S_FILE_EXTENSION '$RELATION_S_FILE_EXTENSION; echo -n $'\n\n';

        echo -n $'#define NUM_THREADS_FOR_EVALUATION '$NUM_THREADS_FOR_EVALUATION; echo -n $'\n\n';

        echo -n $'#define BENCHMARK_RESULTS_PATH '$BENCHMARK_RESULTS_PATH; echo -n $'\n\n';

        echo -n $'#define ETH_SORT_MERGE_IS_SCALAR_MERGE '$ETH_SORT_MERGE_IS_SCALAR_MERGE; echo -n $'\n\n';

        echo -n $'#define ETH_SORT_MERGE_NUMA_STRATEGY '$ETH_SORT_MERGE_NUMA_STRATEGY; echo -n $'\n\n';

        echo -n $'#define ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD '$ETH_SORT_MERGE_PARTITION_FANOUT_PER_THREAD; echo -n $'\n\n';

        echo -n $'#define LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD '$LEARNED_SORT_MERGE_PARTITION_FANOUT_PER_THREAD; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_BATCH_SZ '$LS_DEFAULT_BATCH_SZ; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_FANOUT '$LS_DEFAULT_FANOUT; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_OVERALLOCATION_RATIO '$LS_DEFAULT_OVERALLOCATION_RATIO; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_SAMPLING_RATE '$LS_DEFAULT_SAMPLING_RATE; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_THRESHOLD '$LS_DEFAULT_THRESHOLD; echo -n $'\n\n';

        echo -n $'#define LS_DEFAULT_ARCH_SECOND_LEVEL '$LS_DEFAULT_ARCH_SECOND_LEVEL; echo -n $'\n\n';

        echo -n $'#define LS_MIN_SORTING_SIZE '$LS_MIN_SORTING_SIZE; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ '$LS_FOR_SORT_MERGE_DEFAULT_BATCH_SZ; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_FANOUT '$LS_FOR_SORT_MERGE_DEFAULT_FANOUT; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO '$LS_FOR_SORT_MERGE_DEFAULT_OVERALLOCATION_RATIO; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE '$LS_FOR_SORT_MERGE_DEFAULT_SAMPLING_RATE; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD '$LS_FOR_SORT_MERGE_DEFAULT_THRESHOLD; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL '$LS_FOR_SORT_MERGE_DEFAULT_ARCH_SECOND_LEVEL; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_MIN_SORTING_SIZE '$LS_FOR_SORT_MERGE_MIN_SORTING_SIZE; echo -n $'\n\n';

	     if [ "$LS_FOR_SORT_MERGE_IMV_AVX" = 1 ]; then
 	         echo -n $'#define LS_FOR_SORT_MERGE_IMV_AVX '$LS_FOR_SORT_MERGE_IMV_AVX; echo -n $'\n\n';
	     fi
	     if [ "$LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS" = 1 ]; then
 	         echo -n $'#define LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS '$LS_FOR_SORT_MERGE_IMV_AVX_MINOR_BCKTS; echo -n $'\n\n';
	     fi
	     if [ "$LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS" = 1 ]; then
 	         echo -n $'#define LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS '$LS_FOR_SORT_MERGE_PREFETCH_INPUT_FOR_MINOR_BCKTS; echo -n $'\n\n';
	     fi
        if [ "$LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF" = 1 ]; then
 	         echo -n $'#define LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF '$LS_FOR_SORT_MERGE_PREFETCH_MINOR_BCKT_SIZES_OFF; echo -n $'\n\n';
	     fi
	     if [ "$LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS" = 1 ]; then
 	         echo -n $'#define LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS '$LS_FOR_SORT_MERGE_PREFETCH_SLOPES_AND_INTERCEPTS_MINOR_BCKTS; echo -n $'\n\n';
	     fi

        echo -n $'#define LS_FOR_SORT_MERGE_WORDSIZE '$LS_FOR_SORT_MERGE_WORDSIZE; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_VECTOR_SCALE '$LS_FOR_SORT_MERGE_VECTOR_SCALE; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE '$LS_FOR_SORT_MERGE_MAX_VECTOR_SCALE; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_SIMDStateSize '$LS_FOR_SORT_MERGE_SIMDStateSize; echo -n $'\n\n';

        echo -n $'#define LS_FOR_SORT_MERGE_PDIS '$LS_FOR_SORT_MERGE_PDIS; echo -n $'\n\n';

        if [ "$PREFETCH_INLJ" = 1 ]; then
             echo -n $'#define PREFETCH_INLJ '$PREFETCH_INLJ; echo -n $'\n\n';
        fi

        if [ "$INLJ_ETH_AVX_IMV" = 1 ]; then
           echo -n $'#define INLJ_ETH_AVX_IMV '$INLJ_ETH_AVX_IMV; echo -n $'\n\n';
        fi

        echo -n $'#define INLJ_VECTOR_SCALE '$INLJ_VECTOR_SCALE; echo -n $'\n\n';

        echo -n $'#define INLJ_MAX_VECTOR_SCALE '$INLJ_MAX_VECTOR_SCALE; echo -n $'\n\n';

        echo -n $'#define INLJ_PDIS '$INLJ_PDIS; echo -n $'\n\n';

        echo -n $'#define INLJ_SIMDStateSize '$INLJ_SIMDStateSize; echo -n $'\n\n';

        if [ "$INLJ_WITH_HASH_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_HASH_INDEX '$INLJ_WITH_HASH_INDEX; echo -n $'\n\n';
        fi

        if [ "$INLJ_WITH_LEARNED_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_LEARNED_INDEX '$INLJ_WITH_LEARNED_INDEX; echo -n $'\n\n';
        fi

        if [ "$INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD" = 1 ]; then
             echo -n $'#define INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD '$INLJ_WITH_LEARNED_INDEX_MODEL_BASED_BUILD; echo -n $'\n\n';
        fi

        echo -n $'#define INLJ_WITH_LEARNED_GAPS_FACTOR '$INLJ_WITH_LEARNED_GAPS_FACTOR; echo -n $'\n\n';

        if [ "$INLJ_WITH_CSS_TREE_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_CSS_TREE_INDEX '$INLJ_WITH_CSS_TREE_INDEX; echo -n $'\n\n';
        fi

        if [ "$INLJ_WITH_ART32_TREE_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_ART32_TREE_INDEX '$INLJ_WITH_ART32_TREE_INDEX; echo -n $'\n\n';
        fi
        
        if [ "$INLJ_WITH_ART64_TREE_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_ART64_TREE_INDEX '$INLJ_WITH_ART64_TREE_INDEX; echo -n $'\n\n';
        fi

        if [ "$INLJ_WITH_CUCKOO_HASH_INDEX" = 1 ]; then
             echo -n $'#define INLJ_WITH_CUCKOO_HASH_INDEX '$INLJ_WITH_CUCKOO_HASH_INDEX; echo -n $'\n\n';
        fi

        ##include <cstdint>
        ##include <cstring>
        ##include <iostream>
        ##include <masters_thesis.hpp>
        ##include <ostream>
        ##include <random>
        ##include <stdexcept>
        ##include <string>
     
      if [ "$INLJ_WITH_HASH_INDEX" = 1 ]; then
         if [ "$HASH_SCHEME_AND_FUNCTION_MODE" != 0 ]; then 
             echo -n $'#include <algorithm>'; echo -n $'\n\n';
             echo -n $'#include <hashing.hpp>'; echo -n $'\n\n';
             echo -n $'#include <hashtable.hpp>'; echo -n $'\n\n';
             echo -n $'#include <iterator>'; echo -n $'\n\n';
             echo -n $'#include <learned_hashing.hpp>'; echo -n $'\n\n';
             echo -n $'#include <exotic_hashing.hpp>'; echo -n $'\n\n';
             echo -n $'#include <limits>'; echo -n $'\n\n';
             echo -n $'#include <type_traits>'; echo -n $'\n\n';
             echo -n $'#include <utility>'; echo -n $'\n\n';
             echo -n $'#include <vector>'; echo -n $'\n\n';
             echo -n $'#include "convenience/builtins.hpp"'; echo -n $'\n\n';
             echo -n $'#include <include/mmphf/rank_hash.hpp>'; echo -n $'\n\n';
             echo -n $'#include <include/rmi.hpp>'; echo -n $'\n\n';

            # echo -n $'using namespace exotic_hashing;'; echo -n $'\n\n';
            # echo -n $'using namespace exotic_hashing::support;'; echo -n $'\n\n';

             echo -n $'using MURMUR = hashing::MurmurFinalizer<RELATION_KEY_TYPE>;'; echo -n $'\n\n';
             echo -n $'using XXHASH3 = hashing::XXHash3<RELATION_KEY_TYPE>;'; echo -n $'\n\n';
             echo -n $'using AQUA = hashing::AquaHash<RELATION_KEY_TYPE>;'; echo -n $'\n\n';
             echo -n $'using MULTPRIME = hashing::MultPrime64;'; echo -n $'\n\n';

             echo -n $'using RadixSplineHash = learned_hashing::RadixSplineHash<RELATION_KEY_TYPE,18,1024>;'; echo -n $'\n\n';
             echo -n $'using RMIHash = learned_hashing::RMIHash<RELATION_KEY_TYPE,1000000>;'; echo -n $'\n\n';
             echo -n $'using PGMHash = learned_hashing::PGMHash<RELATION_KEY_TYPE,4,1>;'; echo -n $'\n\n';

             echo -n $'#define HASH_SCHEME_AND_FUNCTION_MODE '$HASH_SCHEME_AND_FUNCTION_MODE; echo -n $'\n\n';
             echo -n $'#define HASH_FUN '$HASH_FUN; echo -n $'\n\n';
             echo -n $'#define HASH_OVERALLOC '$HASH_OVERALLOC; echo -n $'\n\n';
             echo -n $'#define HASH_LEARNED_MODEL '$HASH_LEARNED_MODEL; echo -n $'\n\n';             
        fi
      fi
   
        echo -n $'#define INLJ_RMI_DATA_PATH '$INLJ_RMI_DATA_PATH; echo -n $'\n\n';

        echo -n $'#define INLJ_RMI_NAMESPACE '$INLJ_RMI_NAMESPACE; echo -n $'\n\n';

        echo -n $'#define INLJ_CSS_TREE_FANOUT '$INLJ_CSS_TREE_FANOUT; echo -n $'\n\n';

        )" > $(dirname "$0")/../../include/configs/base_configs.h
